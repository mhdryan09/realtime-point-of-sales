# 1. Dashboard Layout

## Recap Perubahan

### 1. Install Components Dashboard

**Langkah:**
Menjalankan perintah berikut di terminal untuk menambah komponen UI yang diperlukan:

```bash
npx shadcn@latest add sidebar
npx shadcn@latest add avatar breadcrumb
```

**Penjelasan:**

- **Sidebar**: Komponen utama untuk membuat sidebar layout dengan provider dan trigger
- **Avatar**: Komponen untuk menampilkan foto profil user di sidebar
- **Breadcrumb**: Komponen untuk navigasi hierarki halaman
- **ShadCN Integration**: Otomatis menginstall package dan membuat component wrapper

### 2. Membuat Dashboard Layout

**Langkah:**
Membuat file layout dashboard di `src/app/(dashboard)/layout.tsx`:

```typescript
import AppSidebar from "@/components/common/app-sidebar";
import { DarkModeToggle } from "@/components/common/darkmode-toggle";
import { Separator } from "@/components/ui/separator";
import {
  SidebarInset,
  SidebarProvider,
  SidebarTrigger,
} from "@/components/ui/sidebar";

export default function DashboardLayout({ children }: { children: ReactNode }) {
  return (
    <SidebarProvider>
      <AppSidebar />
      <SidebarInset className="overflow-x-hidden">
        <header className="flex h-16 shrink-0 items-center justify-between gap-2">
          <div className="flex items-center gap-2 px-4">
            <SidebarTrigger className="cursor-pointer" />
            <Separator orientation="vertical" className="mr-2 data-[orientation=vertical]:h-4" />
          </div>
          <div className="px-4">
            <DarkModeToggle />
          </div>
        </header>
        <main className="flex flex-1 flex-col items-start gap-4 p-4 pt-0">
          {children}
        </main>
      </SidebarInset>
    </SidebarProvider>
  );
}
```

**Penjelasan:**

- **SidebarProvider**: Context provider untuk mengelola state sidebar
- **AppSidebar**: Komponen sidebar kustom yang berisi navigasi
- **SidebarInset**: Area konten utama di sebelah sidebar
- **Header**: Area header dengan trigger sidebar dan toggle dark mode
- **Main**: Area konten utama dashboard

### 3. Membuat App Sidebar Component

**Langkah:**
Membuat komponen sidebar di `src/components/common/app-sidebar.tsx`:

```typescript
import { Coffee, EllipsisVertical, LogOut } from "lucide-react";
import {
  Sidebar,
  SidebarFooter,
  SidebarHeader,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
  useSidebar,
} from "../ui/sidebar";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "../ui/dropdown-menu";
import { Avatar, AvatarFallback, AvatarImage } from "../ui/avatar";

export default function AppSidebar() {
  const { isMobile } = useSidebar();

  return (
    <Sidebar>
      <SidebarHeader>
        {/* Logo Brand */}
        <SidebarMenu>
          <SidebarMenuItem>
            <SidebarMenuButton size="lg" asChild>
              <div className="font-semibold">
                <div className="flex items-center justify-center rounded-md bg-teal-500 p-2">
                  <Coffee className="size-4" />
                </div>
                Ryan Cafe
              </div>
            </SidebarMenuButton>
          </SidebarMenuItem>
        </SidebarMenu>
      </SidebarHeader>

      <SidebarFooter>
        {/* User Profile Dropdown */}
        <SidebarMenu>
          <SidebarMenuItem>
            <DropdownMenu>
              <DropdownMenuTrigger asChild>
                <SidebarMenuButton size="lg">
                  <Avatar className="h-8 w-8 rounded-lg">
                    <AvatarImage src="" alt="" />
                    <AvatarFallback className="rounded-lg">R</AvatarFallback>
                  </Avatar>
                  <div className="text-sm leading-tight">
                    <h4 className="truncate font-medium">Ryan Pranata</h4>
                    <p className="text-muted-foreground truncate text-xs">Admin</p>
                  </div>
                  <EllipsisVertical className="ml-auto size-4" />
                </SidebarMenuButton>
              </DropdownMenuTrigger>
              <DropdownMenuContent>
                {/* User info dan logout menu */}
              </DropdownMenuContent>
            </DropdownMenu>
          </SidebarMenuItem>
        </SidebarMenu>
      </SidebarFooter>
    </Sidebar>
  );
}
```

**Penjelasan:**

- **SidebarHeader**: Area logo/brand di bagian atas sidebar
- **SidebarFooter**: Area profil user di bagian bawah sidebar
- **Avatar Component**: Menampilkan foto profil dengan fallback inisial
- **DropdownMenu**: Menu dropdown untuk opsi user (logout, setting, dll)
- **Responsive Design**: Menggunakan `useSidebar` hook untuk deteksi mobile

### 4. Membuat Dashboard Page

**Langkah:**
Membuat halaman dashboard admin di `src/app/(dashboard)/admin/page.tsx`:

```typescript
export default function AdminDashboardPage() {
  return (
    <div>
      <button>Dashboard</button>
    </div>
  );
}
```

**Penjelasan:**

- **Admin Dashboard**: Halaman utama untuk admin setelah login
- **Placeholder Content**: Sementara hanya berisi tombol sederhana
- **Route Structure**: Menggunakan route groups `(dashboard)` untuk layout khusus

---

**Kesimpulan:**
Perubahan ini membuat struktur dashboard lengkap dengan sidebar yang responsive, header dengan toggle dark mode, dan area konten utama. Layout ini akan menjadi fondasi untuk semua halaman dashboard dalam aplikasi POS.

### **Komponen Dashboard yang Dibuat:**

- **Dashboard Layout**: Layout wrapper dengan sidebar dan header
- **App Sidebar**: Sidebar dengan logo, navigasi, dan profil user
- **Admin Dashboard Page**: Halaman utama dashboard admin
- **Responsive Design**: Support mobile dan desktop

---

_Catatan: Layout dashboard ini menggunakan ShadCN sidebar components yang sudah optimized untuk accessibility dan responsive design._
