# 2. Dashboard Breadcrumb

## Recap Perubahan

### 1. Membuat Dashboard Breadcrumb Component

**Langkah:**
Membuat komponen breadcrumb dinamis di `src/app/(dashboard)/_components/dashboard-breadcrumb.tsx`:

```typescript
"use client";

import {
  Breadcrumb,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbList,
  BreadcrumbPage,
  BreadcrumbSeparator,
} from "@/components/ui/breadcrumb";
import { usePathname } from "next/navigation";
import { Fragment } from "react";

export default function DashboardBreadcrumb() {
  const pathname = usePathname();
  const paths = pathname.split("/").slice(1);

  return (
    <Breadcrumb>
      <BreadcrumbList>
        {paths.map((path, index) => (
          <Fragment key={`path-${path}`}>
            <BreadcrumbItem className="capitalize">
              {index < paths.length - 1 ? (
                <BreadcrumbLink
                  href={`/${paths.slice(0, index + 1).join("/")}`}
                >
                  {path}
                </BreadcrumbLink>
              ) : (
                <BreadcrumbPage>{path}</BreadcrumbPage>
              )}
            </BreadcrumbItem>

            {/* Separator */}
            {index < paths.length - 1 && <BreadcrumbSeparator />}
          </Fragment>
        ))}
      </BreadcrumbList>
    </Breadcrumb>
  );
}
```

**Penjelasan:**

- **usePathname**: Hook Next.js untuk mendapatkan path URL saat ini
- **Dynamic Paths**: Memecah pathname menjadi array untuk setiap segmen
- **Conditional Rendering**: Link untuk breadcrumb tengah, Page untuk breadcrumb terakhir
- **Capitalize Class**: Otomatis kapitalisasi huruf pertama setiap segmen
- **Fragment**: Wrapper untuk menghindari extra DOM elements

#### **Penjelasan Script Kompleks:**

**1. Path Processing:**

```typescript
const pathname = usePathname();
const paths = pathname.split("/").slice(1);
```

- `usePathname()`: Hook Next.js yang return URL path saat ini (contoh: "/admin/user")
- `pathname.split("/")`: Memecah string path jadi array (contoh: ["", "admin", "user"])
- `.slice(1)`: Hapus elemen pertama (string kosong) jadi ["admin", "user"]

**2. Dynamic URL Generation:**

```typescript
href={`/${paths.slice(0, index + 1).join("/")}`}
```

- `paths.slice(0, index + 1)`: Ambil array dari awal sampai index saat ini
- Contoh: index=0 → ["admin"], index=1 → ["admin", "user"]
- `.join("/")`: Gabungkan array jadi string dengan separator "/"
- Template literal: Tambahkan "/" di depan jadi "/admin" atau "/admin/user"

**3. Conditional Breadcrumb Type:**

```typescript
{index < paths.length - 1 ? (
  <BreadcrumbLink href={...}>{path}</BreadcrumbLink>
) : (
  <BreadcrumbPage>{path}</BreadcrumbPage>
)}
```

- `index < paths.length - 1`: Cek apakah ini bukan item terakhir
- Jika bukan terakhir: render sebagai `BreadcrumbLink` (bisa diklik)
- Jika terakhir: render sebagai `BreadcrumbPage` (tidak bisa diklik, current page)

**4. Conditional Separator:**

```typescript
{index < paths.length - 1 && <BreadcrumbSeparator />}
```

- `&&`: Logical operator untuk conditional rendering
- Separator hanya muncul jika bukan item terakhir
- Menghindari separator di akhir breadcrumb

### 2. Integrasi ke Dashboard Layout

**Langkah:**
Menambahkan breadcrumb ke header dashboard di `src/app/(dashboard)/layout.tsx`:

```typescript
import DashboardBreadcrumb from "./_components/dashboard-breadcrumb";

// Di dalam header:
<div className="flex items-center gap-2 px-4">
  <SidebarTrigger className="cursor-pointer" />
  <Separator
    orientation="vertical"
    className="mr-2 data-[orientation=vertical]:h-4"
  />

  <DashboardBreadcrumb />
</div>
```

**Penjelasan:**

- **Header Integration**: Breadcrumb ditempatkan di sebelah SidebarTrigger
- **Visual Separator**: Menggunakan vertical separator untuk pemisah visual
- **Layout Positioning**: Positioned di bagian kiri header dashboard

### 3. Membuat Test Page untuk Breadcrumb

**Langkah:**
Membuat halaman test di `src/app/(dashboard)/admin/user/page.tsx`:

```typescript
export default function UserManagementPage() {
  return (
    <div>
      <h1>User Management</h1>
    </div>
  );
}
```

**Penjelasan:**

- **Test Route**: Route `/admin/user` untuk testing breadcrumb dengan nested path
- **Multi-level Path**: Menghasilkan breadcrumb: "admin > user"
- **Placeholder Content**: Konten sederhana untuk testing navigasi

---

**Kesimpulan:**
Perubahan ini menambahkan sistem breadcrumb dinamis yang otomatis menggenerate navigasi berdasarkan URL path saat ini. Breadcrumb terintegrasi dengan baik ke dalam header dashboard dan memberikan orientasi lokasi yang jelas kepada user.

### **Fitur Breadcrumb yang Dibuat:**

- **Dynamic Generation**: Otomatis generate berdasarkan URL path
- **Interactive Links**: Breadcrumb tengah bisa diklik untuk navigasi
- **Current Page**: Breadcrumb terakhir menunjukkan halaman aktif
- **Responsive Design**: Terintegrasi dengan layout dashboard yang responsive
- **Clean Styling**: Menggunakan ShadCN breadcrumb components yang konsisten

---

_Catatan: Breadcrumb ini menggunakan ShadCN breadcrumb components dan Next.js usePathname hook untuk navigasi yang dinamis dan user-friendly._
